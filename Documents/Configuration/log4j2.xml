<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
	<Appenders>
		<!-- file appender -->
		<!--1. All exception generated by system, will be logged here -->
		<RollingRandomAccessFile  name="exception" fileName="/var/log/endlos/cm/exception.log" filePattern="/var/log/endlos/cm/exception-%d{yyyy-MM-dd}.log" immediateFlush="false">
			<PatternLayout>
				<!-- <pattern>[%d{dd-MM-yyyy HH:mm:ss}], %-5level, %m%n </pattern> -->
				<pattern>[%d{dd.MM.yyyy HH:mm:ss.SSS}], %-5level - %msg%n</pattern>
			</PatternLayout>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
		</RollingRandomAccessFile >
		
		<!--2. All error/custom exception generated by system, will be logged here -->
		<RollingRandomAccessFile  name="error" fileName="/var/log/endlos/cm/error.log" filePattern="/var/log/endlos/cm/error-%d{yyyy-MM-dd}.log" immediateFlush="false">
			<PatternLayout>
				<!-- <pattern>[%d{dd-MM-yyyy HH:mm:ss}], %-5level, %m%n </pattern>-->
				<pattern>[%d{dd.MM.yyyy HH:mm:ss.SSS}], %-5level - %msg%n</pattern>
			</PatternLayout>
			<Filters>
    			<ThresholdFilter level="fatal" onMatch="DENY" onMismatch="NEUTRAL" />
    		</Filters>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
		</RollingRandomAccessFile >
		
		<!--3. All performance related logs (Time taken by each request) will be logged here -->
		<RollingRandomAccessFile  name="access" fileName="/var/log/endlos/cm/access.log" filePattern="/var/log/endlos/cm/access-%d{yyyy-MM-dd}.log" immediateFlush="false">
			<PatternLayout>
				<!-- <pattern>[%d{dd-MM-yyyy HH:mm:ss}], %-5level, %m%n </pattern> -->
				<pattern>[%d{dd.MM.yyyy HH:mm:ss.SSS}], %-5level - %msg%n</pattern>
			</PatternLayout>
			<Filters>
    			<ThresholdFilter level="fatal" onMatch="DENY" onMismatch="NEUTRAL" />
    			<ThresholdFilter level="error" onMatch="DENY" onMismatch="NEUTRAL" />
    			<ThresholdFilter level="warn" onMatch="DENY" onMismatch="NEUTRAL" />
    		</Filters>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
		</RollingRandomAccessFile >
		
		<!--4. Debug logs will stored in this file. This logs will be useful in development. -->
		<RollingRandomAccessFile  name="debug" fileName="/var/log/endlos/cm/debug.log" filePattern="/var/log/endlos/cm/debug-%d{yyyy-MM-dd}.log" immediateFlush="false">
			<PatternLayout>
				<!-- <pattern>[%d{dd-MM-yyyy HH:mm:ss}], %-5level, %m%n </pattern> -->
				<pattern>[%d{dd.MM.yyyy HH:mm:ss.SSS}], %-5level - %msg%n</pattern>
			</PatternLayout>
			<Filters>
    			<ThresholdFilter level="fatal" onMatch="DENY" onMismatch="NEUTRAL" />
    			<ThresholdFilter level="error" onMatch="DENY" onMismatch="NEUTRAL" />
    			<ThresholdFilter level="warn" onMatch="DENY" onMismatch="NEUTRAL" />
    			<ThresholdFilter level="info" onMatch="DENY" onMismatch="NEUTRAL" />
    		</Filters>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
		</RollingRandomAccessFile>
	</Appenders>
	<Loggers>
		<!--1. Logger appender for exception.-->
		<AsyncLogger name="com.intentlabs.common.logger" level="fatal" additivity="false">
			<appender-ref ref="exception" level="fatal" />
		</AsyncLogger>
		<!--2. All error/custom exception generated by system, will be logged here -->
		<AsyncLogger name="com.intentlabs.common.logger" level="error" additivity="false">
			<appender-ref ref="error" level="error" />
		</AsyncLogger>
		<!--3. All performance & request related logs (Time taken by each request) will be logged here -->
		<AsyncLogger name="com.intentlabs.common.logger" level="info" additivity="false">
			<appender-ref ref="access" level="info" />
		</AsyncLogger>
		<!--4. Debug logs will stored in this file. This logs will be useful in development. -->
		<AsyncLogger name="com.intentlabs.common.logger" level="debug" additivity="false">
			<appender-ref ref="debug" level="debug" />
		</AsyncLogger>
		<Root level="info" additivity="false">
			<AppenderRef ref="exception" level="fatal" />
			<AppenderRef ref="error" level="error" />
			<AppenderRef ref="access" level="info" />
			<AppenderRef ref="debug" level="debug" />
		</Root>
	</Loggers>
</Configuration>